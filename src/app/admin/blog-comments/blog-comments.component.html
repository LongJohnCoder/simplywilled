<app-header></app-header>
<app-left-menu></app-left-menu>
<div id="page-wrapper">
  <div id="page-inner">


    <div class="row">
      <div class="col-md-12">
        <h1 class="page-header">
          Blog Comments
        </h1>
      </div>
    </div>
    <!-- /. ROW  -->


    <div class="row">
      <div class="col-md-12">
        <div class="text-right" style="margin-bottom:10px;">

        </div>
        <div class="panel panel-default blogsTab">
          <div class="panel-heading">
            Total Comment{{commentCount <= 1 ? '' : 's'}} - {{commentCount}}
          </div>
          <div class="panel-body">
            <div class="table-responsive">
              <div id="dataTable_wrapper" class="dataTables_wrapper form-inline" role="grid">
                <!--<div class="row">-->
                <!--<div class="col-sm-6">-->
                <!--<div class="dataTables_length" id="dataTable_length">-->
                <!--<label>-->
                <!--<select name="dataTable_length" aria-controls="dataTable"-->
                <!--class="form-control input-sm">-->
                <!--<option value="10">10</option>-->
                <!--<option value="25">25</option>-->
                <!--<option value="50">50</option>-->
                <!--<option value="100">100</option>-->
                <!--</select> records per page</label>-->
                <!--</div>-->
                <!--</div>-->
                <!--<div class="col-sm-6">-->
                <!--<div id="dataTable_filter" class="dataTables_filter">-->
                <!--<label>-->
                <!--Search:-->
                <!--<input type="search" class="form-control input-sm"-->
                <!--aria-controls="dataTable">-->
                <!--</label>-->
                <!--</div>-->
                <!--</div>-->
                <!--</div>-->
                <table class="table table-striped table-bordered table-hover dataTable no-footer"
                       id="dataTable" aria-describedby="dataTable_info">
                  <thead>
                  <tr role="row">
                    <th class="sorting_asc" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-sort="ascending"
                        aria-label="S No.: activate to sort column ascending" style="width: 22px;">S
                      No.
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Title: activate to sort column ascending"
                        style="width: 353px;">Name
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Slug: activate to sort column ascending"
                        style="width: 336px;">Email
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Status: activate to sort column ascending"
                        style="width: 62px;">Post
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Status: activate to sort column ascending"
                        style="width: 62px;">Status
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Created Date: activate to sort column ascending"
                        style="width: 52px;">Created Date
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Actions: activate to sort column ascending"
                        style="width: 157px;">Actions
                    </th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let item of comments; let i = index">
                    <td class="sorting_1">{{i + 1}}</td>
                    <td>{{item.name}}</td>
                    <td>{{item.email}}</td>
                    <td>{{item.blog.title | slice:0:15}}</td>
                    <td><span class="badge"
                              [ngClass]="[item.status == '1' ? 'badge-success' : 'badge-danger']">{{item.status == '1' ? 'Approved' : 'Unapproved'}}</span>
                    </td>
                    <td>{{item.created_at}}</td>
                    <td class="text-center ">
                      <button type="button" (click)="openModal(viewComment, i)"
                              class="btn btn-primary"><i class="fa fa-eye" aria-hidden="true"></i>
                        View
                      </button>
                        <button type="button" (click)="openModal(editComment, i)"
                                class="btn btn-info"><i class="fa fa-edit" aria-hidden="true"></i>
                            Edit
                        </button>
                      <!--<a routerLink="/admin-panel/edit-faq/{{item.id}}" class="btn btn-info"><i-->
                              <!--class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit</a>-->
                      <a class="btn btn-danger deleteAdminOption"
                         (click)="openModal(deleteitem, i)">
                        <i class="fa fa-trash" aria-hidden="true"></i>
                        Delete
                      </a>
                    </td>
                  </tr>
                  </tbody>
                </table>

                <!--<div class="row"><div class="col-sm-6"><div class="dataTables_info" id="dataTable_info" role="alert" aria-live="polite" aria-relevant="all">Showing 1 to 10 of 70 entries</div></div><div class="col-sm-6"><div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate"><ul class="pagination"><li class="paginate_button previous disabled" aria-controls="dataTable" tabindex="0" id="dataTable_previous"><a href="#">Previous</a></li><li class="paginate_button active" aria-controls="dataTable" tabindex="0"><a href="#">1</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">2</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">3</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">4</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">5</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">6</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">7</a></li><li class="paginate_button next" aria-controls="dataTable" tabindex="0" id="dataTable_next"><a href="#">Next</a></li></ul></div></div></div></div>-->
              </div>
            </div>
          </div>
        </div>
      </div>


      <ng-template #viewComment>
        <div class="panel-body">
          <div class="modal-header" style="margin-bottom:15px">
            <h3 class="modal-title">
              View Comment
              <span class="badge" [ngClass]="[comData.status == '1' ? 'badge-success' : 'badge-danger']">{{comData.status == '1' ? 'Approved' : 'Unapproved'}}</span>
            </h3>
            <button type="button" class="close" (click)="modalRef.hide()">×</button>
          </div>
          <div class="modal-body">
            <h4>Post Name:</h4>
            <p>{{comData.blog.title}}</p>
          </div>
          <div class="modal-body">
            <h4>Name:</h4>
            <p>{{comData.name}}</p>
          </div>
          <div class="modal-body">
            <h4>Email:</h4>
            <p>{{comData.email}}</p>
          </div>
          <!--<div class="modal-body">-->
            <!--<h4>Website:</h4>-->
            <!--<p></p>-->
          <!--</div>-->
          <div class="modal-body">
            <h4>Message:</h4>
            <p>{{comData.message}}</p>
          </div>
        </div>
      </ng-template>

        <ng-template #editComment>
            <div class="panel-body">
            <div class="modal-header" style="margin-bottom:15px">
                <h3 class="modal-title">
                    Edit Comment
                    <!--<span class="badge" [ngClass]="[comData.status == '1' ? 'badge-success' : 'badge-danger']">{{comData.status == '1' ? 'Approved' : 'Unapproved'}}</span>-->
                </h3>
                <button type="button" class="close" (click)="modalRef.hide()">×</button>
            </div>
            <div *ngIf="!delcomStatus">
                <form #editComment="ngForm">
                    <fieldset>
                        <div class="modal-body">
                            <label for="name">Name:</label>
                            <input id="name" class="form-control" type="text" [(ngModel)]="comData.name" name="name" ngModel #name="ngModel" required>
                            <span *ngIf="name.invalid && name.touched" style="color:red;"> User Name is reqired ! </span>
                            <input type="hidden" [(ngModel)]="comData.id" name="id" ngModel #id="ngModel">
                        </div>
                        <div class="modal-body">
                            <label for="email">Email:</label>
                            <input id="email"
                                   class="form-control"
                                   pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                                   type="email" [(ngModel)]="comData.email"
                                   name="email" ngModel
                                   #email="ngModel" required>
                            <span *ngIf="email.errors?.required" style="color:red;">Email is required</span>
                            <span *ngIf="email.errors?.pattern" style="color:red;">This is not a email format</span>

                        </div>
                        <div class="modal-body">
                            <label for="message">Message:</label>
                            <textarea id="message" class="form-control" [(ngModel)]="comData.message" name="message" ngModel #message="ngModel" required></textarea>
                            <span *ngIf="message.invalid && message.touched" style="color:red;"> Message is reqired ! </span>
                        </div>
                        <div class="modal-body">
                            <label for="status">Status</label>
                            <select id="status" class="form-control" name="status" [(ngModel)]="comData.status" #status="ngModel" required>
                                <option value="1">Approved</option>
                                <option value="0">Not Approved</option>
                            </select>
                            <span *ngIf="status.invalid && status.touched" style="color:red;"> Select comment status ! </span>
                        </div>
                        <div class="modal-body">
                            <button type="button" class="btn btn-primary" (click)="update()" [disabled]="!editComment.form.valid"> Update </button>
                        </div>
                    </fieldset>
                </form>
            </div>
            <div class="modal-body" *ngIf="delcomStatus">
                <h3 class="modal-title">
                    {{delcomStatusMsg}}
                </h3>
            </div>
            </div>
        </ng-template>

      <ng-template #deleteitem>
        <div class="modal-header deleteitemHead">
          <h3 class="modal-title">
            {{delcomStatusMsg}}
          </h3>
        </div>
        <div *ngIf="!delcomStatus" class="modal-body deleteBlogFoot">
          <button type="button" class="btn btn-warning" (click)="onCancel()">
            Cancel
          </button>
          <button type="button" class="btn btn-danger" (click)="onitemDel()">
            Yes, Delete It!
          </button>
        </div>
          <div class="modal-body"></div>
      </ng-template>


      <footer><p>All right reserved. Developed By <a href="#">TNI</a></p></footer>
    </div>
    <!-- /. PAGE INNER  -->
  </div>
</div>