<app-header></app-header>
<app-left-menu></app-left-menu>
<div id="page-wrapper">
  <div id="page-inner">


    <div class="row">
      <div class="col-md-12">
        <h1 class="page-header">
          Packages
        </h1>
      </div>
    </div>
    <!-- /. ROW  -->


    <div class="row">
      <div class="col-md-12">
        <div class="text-right" style="margin-bottom:10px;">
            <button type="button" (click)="addModal(add,addPackage)"
                    class="btn btn-success"><i class="fa fa-plus" aria-hidden="true"></i>
                Add Package
            </button>
        </div>
        <div class="panel panel-default blogsTab">
          <div class="panel-heading">
            Total Package - {{count}}
          </div>
          <div class="panel-body">
            <div class="table-responsive">
              <div id="dataTable_wrapper" class="dataTables_wrapper form-inline" role="grid">
                <table class="table table-striped table-bordered table-hover dataTable no-footer"
                       id="dataTable" aria-describedby="dataTable_info">
                  <thead>
                  <tr role="row">
                    <th class="sorting_asc" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-sort="ascending"
                        aria-label="S No.: activate to sort column ascending" style="width: 22px;">S
                      No.
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Title: activate to sort column ascending"
                        style="width: 353px;">Name
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Slug: activate to sort column ascending"
                        style="width: 336px;">Description
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Slug: activate to sort column ascending"
                        style="width: 336px;">Amount
                    </th>
                    <!--<th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"-->
                        <!--colspan="1" aria-label="Slug: activate to sort column ascending"-->
                        <!--style="width: 336px;">Valid Till-->
                    <!--</th>-->
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Status: activate to sort column ascending"
                        style="width: 62px;">Status
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Created Date: activate to sort column ascending"
                        style="width: 52px;">Created Date
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                        colspan="1" aria-label="Actions: activate to sort column ascending"
                        style="width: 157px;">Actions
                    </th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let item of lists; let i = index">
                    <td class="sorting_1">{{i + 1}}</td>
                    <td>{{item.name}}</td>
                    <td>{{item.description | slice:0:30}}</td>
                    <td>${{item.amount | number : '1.2-2'}}</td>
                    <!--<td>{{item.valid_till}}</td>-->
                    <td><span class="badge"
                              [ngClass]="[item.status == '1' ? 'badge-success' : 'badge-danger']">{{item.status == '1' ? 'Active' : 'Inactive'}}</span>
                    </td>
                    <td>{{item.created_at}}</td>
                    <td class="text-center ">
                      <!--<button type="button" (click)="openModal(view, i)"-->
                              <!--class="btn btn-primary"><i class="fa fa-eye" aria-hidden="true"></i>-->
                        <!--View-->
                      <!--</button>-->
                        <button type="button" (click)="openModal(edit, i)"
                                class="btn btn-info"><i class="fa fa-edit" aria-hidden="true"></i>
                            Edit
                        </button>
                      <a class="btn btn-danger deleteAdminOption"
                         (click)="openModal(deleteitem, i)">
                        <i class="fa fa-trash" aria-hidden="true"></i>
                        Delete
                      </a>
                    </td>
                  </tr>
                  </tbody>
                </table>

                <!--<div class="row"><div class="col-sm-6"><div class="dataTables_info" id="dataTable_info" role="alert" aria-live="polite" aria-relevant="all">Showing 1 to 10 of 70 entries</div></div><div class="col-sm-6"><div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate"><ul class="pagination"><li class="paginate_button previous disabled" aria-controls="dataTable" tabindex="0" id="dataTable_previous"><a href="#">Previous</a></li><li class="paginate_button active" aria-controls="dataTable" tabindex="0"><a href="#">1</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">2</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">3</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">4</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">5</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">6</a></li><li class="paginate_button " aria-controls="dataTable" tabindex="0"><a href="#">7</a></li><li class="paginate_button next" aria-controls="dataTable" tabindex="0" id="dataTable_next"><a href="#">Next</a></li></ul></div></div></div></div>-->
              </div>
            </div>
          </div>
        </div>
      </div>

        <ng-template #add>
            <div class="adminModal">
                <div class="panel-body">
                    <div class="modal-header" style="margin-bottom:15px">
                        <h3 class="modal-title">
                            Add Package
                            <!--<span class="badge" [ngClass]="[comData.status == '1' ? 'badge-success' : 'badge-danger']">{{comData.status == '1' ? 'Approved' : 'Unapproved'}}</span>-->
                        </h3>
                        <button type="button" class="close" (click)="modalRef.hide()">×</button>
                    </div>
                    <div *ngIf="!status">
                        <form #addPackage="ngForm">
                            <fieldset>
                                <div class="modal-body">
                                    <label for="name">Name:</label>
                                    <input id="name" class="form-control" type="text" [(ngModel)]="row.name" name="name" ngModel #name="ngModel" required>
                                    <span *ngIf="name.invalid && name.touched" style="color:red;"> Package Name is reqired ! </span>
                                </div>
                                <div class="modal-body">
                                    <label for="description">Description:</label>
                                    <textarea id="description" class="form-control" [(ngModel)]="row.description" name="description" ngModel #description="ngModel" required></textarea>
                                    <span *ngIf="description.invalid && description.touched" style="color:red;"> Description is reqired ! </span>
                                </div>
                                <div class="modal-body">
                                    <label for="amount">Amount:</label>
                                    <input type="number" id="amount" class="form-control" [(ngModel)]="row.amount" name="amount" ngModel #amount="ngModel" required>
                                    <span *ngIf="amount.invalid && amount.touched" style="color:red;"> Amount is reqired ! </span>
                                </div>
                                <div class="modal-body">
                                    <label for="status">Status</label>
                                    <select id="status" class="form-control" name="status" [(ngModel)]="row.status" #status="ngModel" required>
                                        <option value="1">Active</option>
                                        <option value="0">In Active</option>
                                    </select>
                                    <span *ngIf="status.invalid && status.touched" style="color:red;"> Select package status ! </span>
                                </div>
                                <div class="modal-body">
                                    <button type="button" class="btn btn-primary" (click)="additem()" [disabled]="!addPackage.form.valid"> Add Package </button>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                    <div class="modal-body" *ngIf="status">
                        <h3 class="modal-title">
                            {{respMsg}}
                        </h3>
                    </div>
                </div>
            </div>
        </ng-template>

        <ng-template #edit>
            <div class="adminModal">
                <div class="panel-body">
                    <div class="modal-header" style="margin-bottom:15px">
                        <h3 class="modal-title">
                            Edit Package
                            <!--<span class="badge" [ngClass]="[comData.status == '1' ? 'badge-success' : 'badge-danger']">{{comData.status == '1' ? 'Approved' : 'Unapproved'}}</span>-->
                        </h3>
                        <button type="button" class="close" (click)="modalRef.hide()">×</button>
                    </div>
                    <div *ngIf="!status">
                        <form #editPackage="ngForm">
                            <fieldset>
                                <div class="modal-body">
                                    <label for="name">Name:</label>
                                    <input id="name" class="form-control" type="text" [(ngModel)]="row.name" name="name" ngModel #name="ngModel" required>
                                    <span *ngIf="name.invalid && name.touched" style="color:red;"> Package Name is reqired ! </span>
                                    <input type="hidden" [(ngModel)]="row.id" name="id" ngModel #id="ngModel">
                                </div>
                                <div class="modal-body">
                                    <label for="description">Description:</label>
                                    <textarea id="description" class="form-control" [(ngModel)]="row.description" name="description" ngModel #description="ngModel" required></textarea>
                                    <span *ngIf="description.invalid && description.touched" style="color:red;"> Description is reqired ! </span>
                                </div>
                                <div class="modal-body">
                                    <label for="amount">Amount:</label>
                                    <input type="number" id="amount" class="form-control" [(ngModel)]="row.amount" name="amount" ngModel #amount="ngModel" required>
                                    <span *ngIf="amount.invalid && amount.touched" style="color:red;"> Amount is reqired ! </span>
                                </div>
                                <div class="modal-body">
                                    <label for="status">Status</label>
                                    <select id="status" class="form-control" name="status" [(ngModel)]="row.status" #status="ngModel" required>
                                        <option value="1">Active</option>
                                        <option value="0">In Active</option>
                                    </select>
                                    <span *ngIf="status.invalid && status.touched" style="color:red;"> Select package status ! </span>
                                </div>
                                <div class="modal-body">
                                    <button type="button" class="btn btn-primary" (click)="update()" [disabled]="!editPackage.form.valid"> Update </button>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                    <div class="modal-body" *ngIf="status">
                        <h3 class="modal-title">
                            {{respMsg}}
                        </h3>
                    </div>
                </div>
            </div>
        </ng-template>

      <ng-template #deleteitem>
        <div class="adminModalSmall">
          <div class="modal-header deleteitemHead">
            <h3 class="modal-title">
              {{respMsg}}
            </h3>
          </div>
          <div class="modal-body deleteBlogFoot">
            <div *ngIf="!status">
              <button type="button" class="btn btn-warning" (click)="onCancel()">
                Cancel
              </button>
              <button type="button" class="btn btn-danger" (click)="onitemDel()">
                Yes, Delete It!
              </button>
            </div>
          </div>
        </div>
      </ng-template>


      <footer><p>All right reserved. Developed By <a href="#">TNI</a></p></footer>
    </div>
    <!-- /. PAGE INNER  -->
  </div>
</div>